#include "script_component.hpp"

params ["_pos", "_smokeDiameter", "_changeInterval", ["_parameters", []]];
_parameters params ["_varX", "_varY", "_varZ", "_weight", "_dimOne", "_dimTwo", "_dimThree"];

private _smoke = "#particlesource" createVehicleLocal _pos;
_smoke setParticleCircle [_smokeDiameter/6, [_varX,_varY, _varZ]];
_smoke setParticleRandom [0, [0, 0, 0], [0, 0, 0], 0, 0, [0, 0, 0, 0], 0, 0];
_smoke setParticleParams [["\A3\data_f\cl_basic", 1, 0, 1], "", "Billboard", 1, 60, [0,0, 0], [_varY,_varY, _varZ], 11, _weight, 45, 0.7, [_dimOne, _dimTwo, _dimThree], [[0.4, 0.4, 0.4, 1], [0, 0, 0, 1], [0, 0, 0, 0]], [0.08], 1, 0, "", "", GVAR(vulcanoObject)];
_smoke setDropInterval 0.1;
[{GVAR(initErruption)}, {deleteVehicle _this;}, _smoke, _changeInterval] call CBA_fnc_waitAndExecute;
